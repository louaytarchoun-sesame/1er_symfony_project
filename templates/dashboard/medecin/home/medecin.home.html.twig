{% extends 'dashboard/layout.html.twig' %}

{% block sidebar %}
    {% include 'dashboard/medecin/_sidebar.html.twig' %}
{% endblock %}

{% block dashboard_content %}
<h2 class="mb-4">Bienvenue Dr. {{ medecin.profile.name }} {{ medecin.profile.last_name }}</h2>

<div class="row g-3 mb-4">
    <div class="col-md-4">
        <div class="card text-white bg-primary shadow-sm h-100 text-center">
            <div class="card-body">
                <h3>{{ patientsCount }}</h3>
                <small>Patients</small>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-white bg-success shadow-sm h-100 text-center">
            <div class="card-body">
                <h3>{{ rdvCount }}</h3>
                <small>Rendez-vous</small>
            </div>
        </div>
    </div>
</div>

<h3>Rendez-vous par statut</h3>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Statut</th>
            <th>Nombre</th>
        </tr>
    </thead>
    <tbody>
        {% for row in rdvByStatus %}
            <tr>
                <td>{{ row.etat }}</td>
                <td>{{ row.total }}</td>
            </tr>
        {% else %}
            <tr><td colspan="2">Aucun rendez-vous</td></tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}